%
% File Name:	mathdefs.sty
% Author:	Aditya Ramesh
% Date:		02/03/2013
% Contact:	_@adityaramesh.com
%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{mathdefs}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{bm}
\RequirePackage{colonequals}
\RequirePackage{kvoptions}
\RequirePackage{mathtools}
\RequirePackage{siunitx}
\RequirePackage{smatrix}
\RequirePackage{xstring}

\DeclareBoolOption{section}
\ProcessKeyvalOptions*

% Theorem Environments

\theoremstyle{definition}
\newtheorem{example}{Example}
\newtheorem{exercise}{Exercise}

\theoremstyle{plain}
\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{proposition}[theorem]{Proposition}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{note}{Note}

\makeatletter
\ifmathdefs@section
	\renewcommand{\thedefinition}{\arabic{section}.\arabic{definition}}
	\renewcommand{\theexample}{\arabic{section}.\arabic{example}}
	\renewcommand{\theexercise}{\arabic{section}.\arabic{exercise}}
	\renewcommand{\thetheorem}{\arabic{section}.\arabic{theorem}}
	\renewcommand{\thelemma}{\arabic{section}.\arabic{lemma}}
	\renewcommand{\thecorollary}{\arabic{section}.\arabic{corollary}}
	\renewcommand{\theproposition}{\arabic{section}.\arabic{proposition}}
	\@addtoreset{definition}{section}
	\@addtoreset{example}{section}
	\@addtoreset{exercise}{section}
	\@addtoreset{theorem}{section}
	% Lemma, Corollary, and Proposition use the same numbering as Theorem,
	% so we do not need to reset their corresponding counters at each
	% section.
\fi
\makeatother

% Paired Delimiters

\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\bracket}{\langle}{\rangle}

%
% Set Theory
%

\newcommand{\compl}[1]{#1^c}

%
% Algebra Definitions
%

\let\hom\relax
\DeclareMathOperator{\hom}{Hom}
\newcommand{\field}[1]{\mathbb{#1}}
\newcommand{\naturals}[1]{\protect\IfEq{#1}{1}{\field{N}}{\field{N}^{#1}}}
\newcommand{\integers}[1]{\protect\IfEq{#1}{1}{\field{Z}}{\field{Z}^{#1}}}
\newcommand{\rationals}[1]{\protect\IfEq{#1}{1}{\field{Q}}{\field{Q}^{#1}}}
\newcommand{\reals}[1]{\protect\IfEq{#1}{1}{\field{R}}{\field{R}^{#1}}}
\newcommand{\complexes}[1]{\protect\IfEq{#1}{1}{\field{C}}{\field{C}^{#1}}}
\newcommand{\qsp}[2]{#1 /\, #2}

%
% Linear Algebra Definitions
%

% Vector Spaces.

\newcommand{\vspan}{\operatorname{span}}
\newcommand{\fspan}[1]{\operatorname{#1-span}}
\newcommand{\polyspace}[1]{\operatorname{\mathsf{P}^{#1}}}
\newcommand{\tuplespace}[1]{\operatorname{\mathsf{F}^{#1}}}
\newcommand{\matrixspace}[2]{\operatorname{\mathsf{M}^{#1 \times #2}}}

% Linear Transformations.

\newcommand{\range}{\operatorname{\mathsf{R}}}
\newcommand{\kernel}{\operatorname{\mathsf{N}}}
\newcommand{\nullspace}{\operatorname{\mathsf{N}}}
\newcommand{\rank}{\operatorname{rank}}
\newcommand{\nullity}{\operatorname{nullity}}

% Matrices.

\newcommand{\diag}{\operatorname{diag}}
\newcommand{\trans}[1]{#1^{t}}
\newcommand{\Tr}{\operatorname{Tr}}

% Eigenvalues and Diagonazibility.

\newcommand{\spectrum}[1]{\operatorname{Sp_{#1}}}
\newcommand{\eigenspace}[1]{\operatorname{\mathsf{E}_{#1}}}

%
% Graph Theory Definitions
%

\newcommand{\edge}{\text{---}}
\newcommand{\parents}{\operatorname{\pi}}
\newcommand{\leaves}{\operatorname{\mathit{L}}}

%
% Probability
%

\newcommand{\given}{\,|\,}
